# Трейты
В ООП PHP трейты (trait) — это механизм для повторного использования кода в разных классах, без необходимости использовать наследование.

## Что такое трейты?
Трейт — это набор методов, который можно внедрить в один или несколько классов. Они позволяют избежать дублирования кода, особенно когда множественное наследование невозможно (в PHP наследование только одиночное).

## Синтаксис
```php
trait Logger {
    public function log(string $message): void {
        echo "[LOG]: $message\n";
    }
}

class User {
    use Logger;

    public function create() {
        $this->log("User created.");
    }
}

$user = new User();
$user->create();  // [LOG]: User created.
```


✅ Зачем нужны трейты
- Повторное использование кода в разных классах
- Разделение ответственности (separation of concerns)
- Обход ограничения одиночного наследования
- Чистая архитектура без избыточных базовых классов


## Использование нескольких трейтов
```php
trait A {
    public function methodA() { echo "A"; }
}

trait B {
    public function methodB() { echo "B"; }
}

class MyClass {
    use A, B;
}
```

## Конфликты и приоритеты
Если два трейта содержат методы с одинаковым именем — возникает конфликт. PHP позволяет его разрешить с помощью ключевых слов insteadof и as:
```php
trait A {
    public function hello() { echo "Hello from A"; }
}

trait B {
    public function hello() { echo "Hello from B"; }
}

class MyClass {
    use A, B {
        B::hello insteadof A; // используем метод из B
        A::hello as helloFromA; // доступ к методу A под другим именем
    }
}
```

Трейты могут содержать:
- Методы
- Свойства (с PHP 5.4)
- Абстрактные методы (требуют реализации в классе)
- Статические методы и свойства

## Реальный пример: логгирование, трекинг событий, трейт "HasTimestamps"
```php
trait HasTimestamps {
    protected $createdAt;
    protected $updatedAt;

    public function setTimestamps() {
        $this->createdAt = date('Y-m-d H:i:s');
        $this->updatedAt = date('Y-m-d H:i:s');
    }
}
```

```php
class Post {
    use HasTimestamps;
}
```

## Важно помнить
- Трейты не являются классами
- Они не могут быть инстанцированы
- Если в классе уже есть метод с таким именем — он переопределит метод трейта
