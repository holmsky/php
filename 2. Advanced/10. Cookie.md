# Работа с куками в PHP
Работа с куками в PHP — это способ сохранять небольшие данные на стороне клиента (браузера) и получать их при последующих запросах. Куки часто используются для хранения настроек пользователя, идентификаторов сессии и прочего.

## Основные понятия о куках
- Кука — это небольшая текстовая информация, которую сервер отправляет браузеру, а браузер при последующих запросах возвращает серверу.
- Куки привязаны к домену и пути, могут иметь время жизни (срок действия).
- Куки доступны и на стороне клиента (JavaScript), и на стороне сервера (PHP).

## Основные функции для работы с куками
| Функция                                                                 | Описание                                   |
| ----------------------------------------------------------------------- | ------------------------------------------ |
| `setcookie($name, $value, $expire, $path, $domain, $secure, $httponly)` | Устанавливает куку                         |
| `$_COOKIE`                                                              | Суперглобальный массив с доступными куками |
| `unset($_COOKIE['name'])`                                               | Удаляет куку из массива, но не с клиента   |


## Установка куки
```php
// Устанавливаем куку на 1 час
setcookie("user", "Ivan", time() + 3600, "/");

// После этого кука будет доступна на всех страницах домена
```

Важно:
- setcookie() должен вызываться до любого вывода (как и session_start()).
- Если не указать время expire, кука будет сессийной (удалится при закрытии браузера).


## Получение куки
```php
if (isset($_COOKIE['user'])) {
    echo "Привет, " . htmlspecialchars($_COOKIE['user']);
} else {
    echo "Кука user не установлена";
}
```

## Удаление куки
Чтобы удалить куку, нужно установить время жизни в прошлое:
```php
setcookie("user", "", time() - 3600, "/");
unset($_COOKIE['user']);  // удаляем из текущего массива PHP
```

## Пример использования
```php
// Установка куки
setcookie("theme", "dark", time() + 86400, "/"); // кука на сутки

// Чтение куки
if (!empty($_COOKIE['theme'])) {
    echo "Выбранная тема: " . $_COOKIE['theme'];
} else {
    echo "Тема не выбрана";
}
```

## Рекомендации по безопасности
- Используйте флаг httponly — кука не будет доступна через JavaScript (защита от XSS).
- Используйте флаг secure — кука передаётся только по HTTPS.
- Для конфиденциальных данных лучше использовать сессии, а не куки.
- Фильтруйте данные из $_COOKIE перед использованием.
