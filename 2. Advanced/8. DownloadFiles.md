# Загрузка файлов в PHP
Загрузка файлов в PHP — стандартная задача при создании веб-приложений. PHP позволяет принимать файлы, отправленные через HTML-форму, и обрабатывать их на сервере.

## Как работает загрузка файлов в PHP
1. В HTML-форме должен быть установлен атрибут enctype="multipart/form-data" и метод POST.
2. Пользователь выбирает файл и отправляет форму.
3. PHP получает файл через суперглобальный массив $_FILES.
4. Файл можно проверить, переместить и сохранить на сервере.

## Пример HTML-формы для загрузки файла
```html
<form action="upload.php" method="post" enctype="multipart/form-data">
    <label>Выберите файл для загрузки:</label>
    <input type="file" name="myfile">
    <button type="submit">Загрузить</button>
</form>
```

## Обработка загрузки файла в PHP (upload.php)
```php
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    // Проверяем, был ли загружен файл
    if (isset($_FILES['myfile']) && $_FILES['myfile']['error'] === UPLOAD_ERR_OK) {
        $fileTmpPath = $_FILES['myfile']['tmp_name'];    // Временный путь
        $fileName = $_FILES['myfile']['name'];           // Оригинальное имя файла
        $fileSize = $_FILES['myfile']['size'];           // Размер файла
        $fileType = $_FILES['myfile']['type'];           // MIME-тип

        $uploadDir = 'uploads/';  // Папка для сохранения файла
        $destPath = $uploadDir . basename($fileName);

        // Проверяем, существует ли папка и создаём, если нет
        if (!is_dir($uploadDir)) {
            mkdir($uploadDir, 0755, true);
        }

        // Перемещаем файл из временного каталога в целевой
        if (move_uploaded_file($fileTmpPath, $destPath)) {
            echo "Файл успешно загружен: $destPath";
        } else {
            echo "Ошибка при перемещении файла.";
        }
    } else {
        echo "Ошибка загрузки файла.";
    }
}
```

## Важные моменты
- В массиве `$_FILES['myfile']` содержатся поля:
  *  name — имя файла
  *  type — MIME-тип
  *  tmp_name — временный путь
  *  error — код ошибки загрузки
  *  size — размер файла
- Ошибки описаны константами, например, UPLOAD_ERR_OK (0) — без ошибок.
- Всегда проверяйте размер, тип и безопасность файла!

## Рекомендации по безопасности
- Проверяйте MIME-тип и расширение файла.
- Ограничивайте максимальный размер (в php.ini и в коде).
- Используйте уникальные имена для сохранения, чтобы не перезаписать файлы.
- Никогда не запускайте загруженные файлы как скрипты.
- Фильтруйте или переименовывайте имена файлов.
